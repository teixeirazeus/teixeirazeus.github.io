<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Higher-Order Functions in Python | Thiago Teixeira</title>
<meta name=keywords content="python,lisp"><meta name=description content="Exploring the potential of higher-order functions in Python."><meta name=author content><link rel=canonical href=https://teixeirazeus.github.io/blog/higher-order-functions-in-python/><link crossorigin=anonymous href=/assets/css/stylesheet.min.a72801f0f40a8d7f71aa1cafd1c2f2a993a1f26ca1cfd38fdba65d5b9b0f08a0.css integrity="sha256-pygB8PQKjX9xqhyv0cLyqZOh8myhz9OP26ZdW5sPCKA=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.5b9ae0304f93db6cc493f51846f012428af399c614b4f2fbdb7fa59dd4d5ef5b.js integrity="sha256-W5rgME+T22zEk/UYRvASQorzmcYUtPL723+lndTV71s=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://teixeirazeus.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://teixeirazeus.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://teixeirazeus.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://teixeirazeus.github.io/apple-touch-icon.png><link rel=mask-icon href=https://teixeirazeus.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Higher-Order Functions in Python"><meta property="og:description" content="Exploring the potential of higher-order functions in Python."><meta property="og:type" content="article"><meta property="og:url" content="https://teixeirazeus.github.io/blog/higher-order-functions-in-python/"><meta property="og:image" content="https://teixeirazeus.github.io/blog/higher-order-functions-in-python/header.jpg"><meta property="article:section" content="blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://teixeirazeus.github.io/blog/higher-order-functions-in-python/header.jpg"><meta name=twitter:title content="Higher-Order Functions in Python"><meta name=twitter:description content="Exploring the potential of higher-order functions in Python."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blogs","item":"https://teixeirazeus.github.io/blog/"},{"@type":"ListItem","position":2,"name":"Higher-Order Functions in Python","item":"https://teixeirazeus.github.io/blog/higher-order-functions-in-python/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Higher-Order Functions in Python","name":"Higher-Order Functions in Python","description":"Exploring the potential of higher-order functions in Python.","keywords":["python","lisp"],"articleBody":"Introduction One of the most compelling aspects of functional programming is the concept of higher-order functions. In many scenarios, designing a function that generates other functions is an exceptional tool for refactoring and elevating our code’s abstraction level. This approach is a stepping stone towards metaprogramming — the idea of writing programs that generate programs.\nThough Python is not a purely functional programming language, it treats functions as first-class citizens. This means:\nFunctions can be assigned to variables. Functions can be passed as arguments to other functions. Functions can be returned from other functions. Let’s dive into some illustrative examples:\nFunctions as Arguments Python is equipped with a functional programming library, and one of its common higher-order functions is the map function. The map function applies another function to all items in a given list. For instance:\ndef square(x): return x*x numbers = [1, 2, 3, 4] squared_numbers = list(map(square, numbers)) print(squared_numbers) # [1, 4, 9, 16] In this example, map iterates over each item in the numbers list and applies the square function to each of them.\nFunctions Returning Functions This is where things get intriguing. Functions that return other functions allow for powerful and flexible patterns. Let’s explore:\nPower Function Factory Imagine you wish to create functions that raise numbers to various powers:\ndef power_factory(n): def nth_power(x): return x ** n return nth_power square = power_factory(2) cube = power_factory(3) print(square(4)) # 16 (4^2) print(cube(2)) # 8 (2^3) Here, power_factory returns a new function that raises its argument to the nth power. It’s a dynamic way to create different power functions.\nLogger Functions Functions that wrap around other functions to introduce logging functionality:\ndef logger(fn): def wrapped(*args, **kwargs): print(f\"Calling {fn.__name__} with {args} and {kwargs}\") return fn(*args, **kwargs) return wrapped @logger def add(a, b): return a + b print(add(3, 4)) # Output: # Calling add with (3, 4) and {} # 7 The logger function enhances the add function to print its call signature before executing.\nShift Function Factory This creates functions that add a fixed value:\ndef shift_by(value): def shift_fn(x): return x + value return shift_fn shift_by_5 = shift_by(5) print(shift_by_5(3)) # 8 shift_by returns a new function that adds its argument to a pre-defined value.\nFunction Composition A function that takes two other functions and returns their composition:\ndef compose(f, g): return lambda x: f(g(x)) def double(x): return 2 * x def increment(x): return x + 1 double_then_increment = compose(increment, double) print(double_then_increment(5)) # 11 (2*5 + 1) Here, compose creates a new function that first doubles its argument and then adds 1.\nThese examples highlight the versatility and strength of functions returning other functions in Python. They can streamline our code, encapsulate specific logic patterns, and add dynamic behavior.\nCrafting a Lisp-Style Linked List in Python The functional programming paradigm, with Lisp at its heart, showcases distinct techniques and approaches. Among Lisp’s hallmark structures is the linked list, which diverges from the conventional ones seen in languages like Python or Java. In Lisp, each list adopts a recursive composition, bifurcated into car and cdr.\nThe first time I encountered this in the Lisp language, I was genuinely astounded. It felt as though I was instantiating lists out of thin air, relying solely on function definitions.\nUnderstanding car and cdr car: Originating from “Contents of Address Register”, it signifies the list’s first element. cdr (often pronounced ‘cudder’): An abbreviation for “Contents of Decrement Register”, it points to the list’s remainder. Simply put, a Lisp-style list is akin to Russian nesting dolls, where each car retains the value and the cdr encompasses the next nested pair.\nEmulating the List in Python We can mirror this structure in Python, leveraging higher-order and lambda functions.\n# Define the 'pair' structure for our car and cdr def cons(x, y): def dispatch(m): if m == 0: return x elif m == 1: return y return dispatch # Extractors for car and cdr def car(z): return z(0) def cdr(z): return z(1) In this setup:\ncons initiates our pair, essentially crafting our list node. car extracts the leading element of our pair. cdr fetches the succeeding one. For constructing and exploring a Lisp-style list:\n# Constructing a list: (1, (2, (3, None))) my_list = cons(1, cons(2, cons(3, None))) To functionally print all elements:\ndef print_list(lst): if lst: print(car(lst)) print_list(cdr(lst)) print_list(my_list) # Output: # 1 # 2 # 3 What’s truly captivating about our Lisp-style list is its reliance on higher-order functions. Our cons function is designed to return another function (dispatch). This internal function carries the logic, deciding whether to offer the car or the cdr. Such abstraction makes list interactions smooth and exemplifies the magic of functions begetting functions.\nConclusion Higher-order functions possess immense power. Regrettably, they aren’t widely adopted across all programming arenas and are primarily confined to the realm of functional programming. This situation evokes a sentiment that we might be missing out on a vast potential by sidelining functional programming approaches.\nWorking with higher-order functions prompts us to think differently, allowing us to perceive beyond the immediate code. Beyond its aesthetic appeal, it serves as an enriching exercise in nurturing a functional mindset.\n","wordCount":"850","inLanguage":"en","image":"https://teixeirazeus.github.io/blog/higher-order-functions-in-python/header.jpg","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://teixeirazeus.github.io/blog/higher-order-functions-in-python/"},"publisher":{"@type":"Organization","name":"Thiago Teixeira","logo":{"@type":"ImageObject","url":"https://teixeirazeus.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class="header sticky-header"><nav class=nav><div class=logo><a href=https://teixeirazeus.github.io/ accesskey=h title="Thiago Teixeira (Alt + H)">Thiago Teixeira</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://teixeirazeus.github.io/ title=Home><span>Home</span></a></li><li><a href=https://teixeirazeus.github.io/blog title=Blog><span>Blog</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://teixeirazeus.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://teixeirazeus.github.io/blog/>Blogs</a></div><h1 class=post-title>Higher-Order Functions in Python</h1><div class=post-description>Exploring the potential of higher-order functions in Python.</div><div class=post-meta>Oct 2023</div></header><figure class=entry-cover><img loading=lazy src=https://teixeirazeus.github.io/blog/higher-order-functions-in-python/header.jpg alt></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>‎ Table of Contents</span></summary><div class=inner><ul><li><a href=#introduction aria-label=Introduction>Introduction</a></li><li><a href=#functions-as-arguments aria-label="Functions as Arguments">Functions as Arguments</a></li><li><a href=#functions-returning-functions aria-label="Functions Returning Functions">Functions Returning Functions</a><ul><li><a href=#power-function-factory aria-label="Power Function Factory">Power Function Factory</a></li><li><a href=#logger-functions aria-label="Logger Functions">Logger Functions</a></li><li><a href=#shift-function-factory aria-label="Shift Function Factory">Shift Function Factory</a></li><li><a href=#function-composition aria-label="Function Composition">Function Composition</a></li></ul></li><li><a href=#crafting-a-lisp-style-linked-list-in-python aria-label="Crafting a Lisp-Style Linked List in Python">Crafting a Lisp-Style Linked List in Python</a><ul><li><a href=#understanding-car-and-cdr aria-label="Understanding car and cdr">Understanding <code>car</code> and <code>cdr</code></a></li><li><a href=#emulating-the-list-in-python aria-label="Emulating the List in Python">Emulating the List in Python</a></li></ul></li><li><a href=#conclusion aria-label=Conclusion>Conclusion</a></li></ul></div></details></div><div class=post-content><h2 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h2><p>One of the most compelling aspects of functional programming is the concept of higher-order functions. In many scenarios, designing a function that generates other functions is an exceptional tool for refactoring and elevating our code&rsquo;s abstraction level. This approach is a stepping stone towards metaprogramming — the idea of writing programs that generate programs.</p><p>Though Python is not a purely functional programming language, it treats functions as first-class citizens. This means:</p><ul><li>Functions can be assigned to variables.</li><li>Functions can be passed as arguments to other functions.</li><li>Functions can be returned from other functions.</li></ul><p>Let&rsquo;s dive into some illustrative examples:</p><h2 id=functions-as-arguments>Functions as Arguments<a hidden class=anchor aria-hidden=true href=#functions-as-arguments>#</a></h2><p>Python is equipped with a functional programming library, and one of its common higher-order functions is the <code>map</code> function. The <code>map</code> function applies another function to all items in a given list. For instance:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>square</span>(x):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> x<span style=color:#f92672>*</span>x
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>numbers <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>]
</span></span><span style=display:flex><span>squared_numbers <span style=color:#f92672>=</span> list(map(square, numbers))
</span></span><span style=display:flex><span>print(squared_numbers)  <span style=color:#75715e># [1, 4, 9, 16]</span>
</span></span></code></pre></div><p>In this example, <code>map</code> iterates over each item in the <code>numbers</code> list and applies the <code>square</code> function to each of them.</p><h2 id=functions-returning-functions>Functions Returning Functions<a hidden class=anchor aria-hidden=true href=#functions-returning-functions>#</a></h2><p>This is where things get intriguing. Functions that return other functions allow for powerful and flexible patterns. Let&rsquo;s explore:</p><h3 id=power-function-factory>Power Function Factory<a hidden class=anchor aria-hidden=true href=#power-function-factory>#</a></h3><p>Imagine you wish to create functions that raise numbers to various powers:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>power_factory</span>(n):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>nth_power</span>(x):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> x <span style=color:#f92672>**</span> n
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> nth_power
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>square <span style=color:#f92672>=</span> power_factory(<span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span>cube <span style=color:#f92672>=</span> power_factory(<span style=color:#ae81ff>3</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>print(square(<span style=color:#ae81ff>4</span>))  <span style=color:#75715e># 16 (4^2)</span>
</span></span><span style=display:flex><span>print(cube(<span style=color:#ae81ff>2</span>))    <span style=color:#75715e># 8 (2^3)</span>
</span></span></code></pre></div><p>Here, <code>power_factory</code> returns a new function that raises its argument to the <code>n</code>th power. It&rsquo;s a dynamic way to create different power functions.</p><h3 id=logger-functions>Logger Functions<a hidden class=anchor aria-hidden=true href=#logger-functions>#</a></h3><p>Functions that wrap around other functions to introduce logging functionality:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>logger</span>(fn):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>wrapped</span>(<span style=color:#f92672>*</span>args, <span style=color:#f92672>**</span>kwargs):
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Calling </span><span style=color:#e6db74>{</span>fn<span style=color:#f92672>.</span>__name__<span style=color:#e6db74>}</span><span style=color:#e6db74> with </span><span style=color:#e6db74>{</span>args<span style=color:#e6db74>}</span><span style=color:#e6db74> and </span><span style=color:#e6db74>{</span>kwargs<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> fn(<span style=color:#f92672>*</span>args, <span style=color:#f92672>**</span>kwargs)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> wrapped
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@logger</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>add</span>(a, b):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> a <span style=color:#f92672>+</span> b
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>print(add(<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>))
</span></span><span style=display:flex><span><span style=color:#75715e># Output:</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Calling add with (3, 4) and {}</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 7</span>
</span></span></code></pre></div><p>The <code>logger</code> function enhances the <code>add</code> function to print its call signature before executing.</p><h3 id=shift-function-factory>Shift Function Factory<a hidden class=anchor aria-hidden=true href=#shift-function-factory>#</a></h3><p>This creates functions that add a fixed value:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>shift_by</span>(value):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>shift_fn</span>(x):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> x <span style=color:#f92672>+</span> value
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> shift_fn
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>shift_by_5 <span style=color:#f92672>=</span> shift_by(<span style=color:#ae81ff>5</span>)
</span></span><span style=display:flex><span>print(shift_by_5(<span style=color:#ae81ff>3</span>))  <span style=color:#75715e># 8</span>
</span></span></code></pre></div><p><code>shift_by</code> returns a new function that adds its argument to a pre-defined value.</p><h3 id=function-composition>Function Composition<a hidden class=anchor aria-hidden=true href=#function-composition>#</a></h3><p>A function that takes two other functions and returns their composition:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>compose</span>(f, g):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>lambda</span> x: f(g(x))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>double</span>(x):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> x
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>increment</span>(x):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> x <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>double_then_increment <span style=color:#f92672>=</span> compose(increment, double)
</span></span><span style=display:flex><span>print(double_then_increment(<span style=color:#ae81ff>5</span>))  <span style=color:#75715e># 11 (2*5 + 1)</span>
</span></span></code></pre></div><p>Here, <code>compose</code> creates a new function that first doubles its argument and then adds 1.</p><p>These examples highlight the versatility and strength of functions returning other functions in Python. They can streamline our code, encapsulate specific logic patterns, and add dynamic behavior.</p><h2 id=crafting-a-lisp-style-linked-list-in-python>Crafting a Lisp-Style Linked List in Python<a hidden class=anchor aria-hidden=true href=#crafting-a-lisp-style-linked-list-in-python>#</a></h2><p>The functional programming paradigm, with Lisp at its heart, showcases distinct techniques and approaches. Among Lisp&rsquo;s hallmark structures is the linked list, which diverges from the conventional ones seen in languages like Python or Java. In Lisp, each list adopts a recursive composition, bifurcated into <code>car</code> and <code>cdr</code>.</p><p>The first time I encountered this in the Lisp language, I was genuinely astounded. It felt as though I was instantiating lists out of thin air, relying solely on function definitions.</p><h3 id=understanding-car-and-cdr>Understanding <code>car</code> and <code>cdr</code><a hidden class=anchor aria-hidden=true href=#understanding-car-and-cdr>#</a></h3><ol><li><strong><code>car</code></strong>: Originating from &ldquo;Contents of Address Register&rdquo;, it signifies the list&rsquo;s first element.</li><li><strong><code>cdr</code></strong> (often pronounced &lsquo;cudder&rsquo;): An abbreviation for &ldquo;Contents of Decrement Register&rdquo;, it points to the list&rsquo;s remainder.</li></ol><p>Simply put, a Lisp-style list is akin to Russian nesting dolls, where each <code>car</code> retains the value and the <code>cdr</code> encompasses the next nested pair.</p><h3 id=emulating-the-list-in-python>Emulating the List in Python<a hidden class=anchor aria-hidden=true href=#emulating-the-list-in-python>#</a></h3><p>We can mirror this structure in Python, leveraging higher-order and lambda functions.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># Define the &#39;pair&#39; structure for our car and cdr</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>cons</span>(x, y):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>dispatch</span>(m):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> m <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> x
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>elif</span> m <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> y
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> dispatch
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Extractors for car and cdr</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>car</span>(z):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> z(<span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>cdr</span>(z):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> z(<span style=color:#ae81ff>1</span>)
</span></span></code></pre></div><p>In this setup:</p><ul><li><code>cons</code> initiates our pair, essentially crafting our list node.</li><li><code>car</code> extracts the leading element of our pair.</li><li><code>cdr</code> fetches the succeeding one.</li></ul><p>For constructing and exploring a Lisp-style list:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># Constructing a list: (1, (2, (3, None)))</span>
</span></span><span style=display:flex><span>my_list <span style=color:#f92672>=</span> cons(<span style=color:#ae81ff>1</span>, cons(<span style=color:#ae81ff>2</span>, cons(<span style=color:#ae81ff>3</span>, <span style=color:#66d9ef>None</span>)))
</span></span></code></pre></div><p>To functionally print all elements:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>print_list</span>(lst):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> lst:
</span></span><span style=display:flex><span>        print(car(lst))
</span></span><span style=display:flex><span>        print_list(cdr(lst))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>print_list(my_list) 
</span></span><span style=display:flex><span><span style=color:#75715e># Output:</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 1</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 2</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 3</span>
</span></span></code></pre></div><p>What&rsquo;s truly captivating about our Lisp-style list is its reliance on higher-order functions. Our <code>cons</code> function is designed to return another function (<code>dispatch</code>). This internal function carries the logic, deciding whether to offer the <code>car</code> or the <code>cdr</code>. Such abstraction makes list interactions smooth and exemplifies the magic of functions begetting functions.</p><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>Higher-order functions possess immense power. Regrettably, they aren&rsquo;t widely adopted across all programming arenas and are primarily confined to the realm of functional programming. This situation evokes a sentiment that we might be missing out on a vast potential by sidelining functional programming approaches.</p><p>Working with higher-order functions prompts us to think differently, allowing us to perceive beyond the immediate code. Beyond its aesthetic appeal, it serves as an enriching exercise in nurturing a functional mindset.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://teixeirazeus.github.io/tags/python/>Python</a></li><li><a href=https://teixeirazeus.github.io/tags/lisp/>lisp</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://teixeirazeus.github.io/>Thiago Teixeira</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>